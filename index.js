import{S as b,i as u}from"./assets/vendor-BrddEoy-.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function n(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(e){if(e.ep)return;e.ep=!0;const r=n(e);fetch(e.href,r)}})();const w="52395439-1c1f05bbfb1dbdeee6be85271",v="https://pixabay.com/api/";async function f(o,t=1,n=15){try{const a=`${v}?key=${w}&q=${encodeURIComponent(o)}&image_type=photo&orientation=horizontal&safesearch=true&page=${t}&per_page=${n}`,e=await fetch(a);if(!e.ok)throw new Error("Помилка запиту до API");return(await e.json()).hits}catch(a){return console.error(a),[]}}const m=document.querySelector(".gallery"),g=document.querySelector(".load-more"),y=document.querySelector(".loader"),S=new b(".gallery a",{captionsData:"alt",captionDelay:250});function p(o=[]){const t=o.map(n=>`
    <li class="gallery-item">
      <a href="${n.largeImageURL}">
        <img src="${n.webformatURL}" alt="${n.tags}" loading="lazy" />
      </a>
    </li>
  `).join("");m.insertAdjacentHTML("beforeend",t),S.refresh()}function q(){m.innerHTML=""}function h(){y.classList.add("active")}function L(){y.classList.remove("active")}function $(){g.classList.add("active")}function d(){g.classList.remove("active")}const B=document.querySelector(".form"),P=document.querySelector(".search-input"),E=document.querySelector(".load-more");let i="",c=1;const s=15;B.addEventListener("submit",async o=>{if(o.preventDefault(),q(),d(),i=P.value.trim(),!i){u.warning({title:"Увага",message:"Введіть пошуковий запит!"});return}c=1,h();const t=await f(i,c,s);if(L(),t.length===0){u.error({title:"Помилка",message:"За цим запитом нічого не знайдено"});return}p(t),t.length===s&&$()});E.addEventListener("click",async()=>{c+=1,h();const o=await f(i,c,s);if(L(),o.length===0){u.info({title:"Інфо",message:"Більше зображень немає"}),d();return}p(o);const{height:t}=document.querySelector(".gallery").firstElementChild.getBoundingClientRect();window.scrollBy({top:t*2,behavior:"smooth"}),o.length<s&&d()});
//# sourceMappingURL=index.js.map
